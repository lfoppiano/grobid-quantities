<tei xmlns="http://www.tei-c.org/ns/1.0">
	<teiHeader>
		<fileDesc xml:id="_1" />
		<encodingDesc>
			<appInfo>
				<application version="0.4.5-dummy" ident="GROBID" when="2017-08-22T14:33+0000">
					<ref target="https://github.com/kermitt2/grobid">A machine learning software for extracting information from scholarly documents</ref>
				</application>
			</appInfo>
		</encodingDesc>
	</teiHeader>
	<text xml:lang="en">
		<p>In this paper an original and efficient decision helping tool is proposed to provide the route that minimizes the fuel consumption in a limited or optimum time for a sail-assisted motor vessel. The proposed computation scheme is developed on a systematic meshing procedure, based on few physical parameters directly tuneable by the captain. A vectorial cartography gives bathymetric information in order to reduce the size of the research space. Discretized Bézier curves define the routes that may be sailed. The relevant indices of a sailable route regarding weather conditions and sea state are: the fuel consumption, the contribution of the rig in the propulsion, and the sailing time. The main originality of the determinist weather-routing method presented here resides in the robustness of the optimization workflow whatever is the consumption model used. To minimize the fuel consumption, the parameters controlling the routes (nodes and sea-bed velocities) are adjusted according to the values of performance indices obtained from a parametric model of an hybrid vessel. This model takes into account the meteorological conditions, the sea-state and the vessel characteristics. A Multi-Objective Genetic Algorithm (MOGA) is taken as a framework for the resolution of this optimization problem. The benefits of the optimization method, in sail-assisted motor vessel routing, are finally pointed out using a westbound north Atlantic journey as example.</p>
		<p>Ship weather routing develops an optimum track for ocean voyages based on weather forecasts, sea conditions, and ship's characteristics. Within specified limits of weather and sea conditions, the term optimum is used to mean maximum safety and crew confort, minimum fuel and oil consumption, minimum time or distance underway, or any desired combination of these factors. Whatever the objectives considered, weather routing problem may be resolved in <measure type="value"><num>four</num></measure> stages. Medium-range weather forecasts are used to know the conditions that will encounter the boat during his journey. Reliability of the forecast data is one of the most important topics because the best code is useless if the weather conditions are not well known <!--[11]-->. The stochastic behavior of weather may also be taken into account using ensemble forecasts <!--[17,8]-->. Then, the performances of the ship taking into account weather and sea conditions have to be predicted. Various kinds of models may be used to compute ship behavior from the simple speed/consumption law to the most advanced finite element model. They may come from:  Mapping: cartographies are built from towing tank and wind tunnel tests to estimate resistances acting on the hull and sail thrust. They are perhaps the best at incorporating real world details but are limited by the inaccuracies of scale effect and measurement errors.  Computational Fluid Dynamics such as potential flow or Reynolds-Averaged Navier Stockes codes are also practical to model ship's behavior in a seaway. These methods are now mature to provide high resolution data but are time consuming <!--[12]-->.  Parametric models are now well known <!--[9,11,3]--> but their identification still remains problematic <!--[4]--> and costly.</p>
		<p> Non parametric models may also be used to compute the objectives by fuzzy logic models, neuronal networks. Their main advantages are their power of universal interpolator and the possible on-line identification of the model without prior knowledge. The way route are defined is directly related to the selected method of optimization. They may be defined from a grid or by free variables. Finally, an algorithm is used to make evolve the trajectory of the ship. In the literature three current approaches are developed:  Isochrones, originally proposed by James <!--[10]--> for minimal-time objective in case of non-variable weather conditions. This method consists in the construction of line of equal-time using the speed characteristics of the vessel. This method was improved by Hagiwara <!--[6]--> for an hybrid vessel in case of variable weather.  Dynamic programming solves the minimal time routing problem as a multi-stage decision process. Zappoli <!--[21]--> proposed this approach coupled with a discretization of the domain and random variables modeling the weather conditions.  An optimization algorithm may also be used.</p>
		<p>Generally they can be divided into <measure type="value"><num>two</num></measure> types: deterministic and stochastic algorithms. Genetic or evolutionary algorithms are now common to solve weather routing problem <!--[7,2,16]-->. The main advantage is the multi-objective nature of the algorithm allowing to optimize conflictive objectives under constraints.</p>
		<p>In the <measure type="interval"><date from-iso="1980" to-iso="1989">1980's</date></measure>, after the oil crises, the use of the clean wind energy was proved to be the most efficient way to reduce the use of fossil energy in ship propulsion. Because of the urgent need to reduce the CO 2 and NO x emissions, recent projects of ships use wind renewable energy as assistance to the main propulsion system <!--[20,15,14]-->. The work presented here takes place in the      project Grand Large 1 consisting in the introduction of an automated system of sail adjustment. In this context a scheme is proposed to compute the route of a sailassisted motor vessel that maximizes the energy contribution of the sails in the propulsion while avoiding rough sea conditions. The main originality of our work resides in:  The spherical tuneable uniform discretization of the research space using a systematic meshing procedure controlled by few physical parameters.  The robust optimization loop taking into account various constrains and objectives: navigability, Estimated Time of Sailing (ETS), Estimated Fuel Consumption (EFC). Moreover the chain is not disrupted by the vessel modeling.</p>
		<p>The meshing of the explored area and the construction of routes are presented first. Then, the optimization loop is presented. Next, the way of modeling a sail-assisted motor vessel is introduced and a sensitivity study of the hybrid propulsion is conducted. Finally, a transatlantic journey simulation is used to inspect the validity and the benefits of the proposed determinist weather-routing method.</p>
		<p>The automatic meshing method we used is based on spherical rhombus where <measure type="value"><num>two</num></measure> of the opposite vertexes are the departure and the arrival points. The main advantages of this discretization of the sailing area are :  The genericity of its construction taking into account the sea-beds geography, the time dependant meteorological data and the characteristics of the vessel.  The systematic gridding of the explored area with few physical parameters.  The automation of its calculation leading to optimizable routes.  The possible reactualization of the rhombus to change the routing policy during the sailing.</p>
		<p>The calculation of the gridding has already been presented in <!--[14]-->. Only the main steps of construction will be recalled here.</p>
		<p>In this part 񮽙 denotes the departure point, ′ the arrival one and 񮽙 is the center of Earth considered spherical. The <measure type="value"><num>two</num></measure> remain vertexes of the rhombus are denoted by 񮽙 and 񮽙. This notation is recalled in figure 1.</p>
		<p>We define MOA = í»½. This angle is the image of the orthodromic distance between 񮽙 and 񮽙. Knowing the maximal speed of the vessel 񮽙 , imposed by the design of the hull and the power train characteristics, and the <!--1 http://avel-vor.fr/Projet_Grand_Largue/index.html -->desired time of sailing 񮽙 , the maximal distance that can cross the vessel during the time window is : .</p>
		<p>where 񮽙 is a dimensionless factor lower than the unit used to get some margin. Using inverse spherical transformation and equation (2), it is possible to compute the spherical coordinates of 񮽙. The same method is applied to compute point 񮽙 coordinates.</p>
		<p><!--encoding problems--><!-- The previous construction is extended in order to define the 񮽙 񮽙 level of the meshing. For that purpose, 񮽙 planes 񮽙 񮽙 are defined, with ∈ 1, 񮽙 񮽙 − 2]. In each level i.e. plane 񮽙 񮽙 , the 񮽙 í»¿ 񮽙 level's nodes are defined (Fig.2 ). They are built such as the orthodromic distance 񮽙 񮽙 between 2 nodes of each level is constant.</p>
		<p>At this point, the spherical coordinates (í¼ 񮽙,񮽙 , í¼ 񮽙,񮽙 ) of 񮽙 񮽙,񮽙 nodes of the meshing may be calculated as presented bellow:</p>
		<p>2.1 (c) Limitation of the possible nodes --></p>
		<p>From vectorial cartographies, the matrix giving the depth of water according to longitude and latitude of meshing's points is compared with the draught of the boat. The nodes at which the depth is insufficient are removed from the grid (3). This operation limits the research space which implies a quicker convergence of the optimization algorithm. This limitation of the rhombus nodes is visible on figure 3. The sailable nodes are represented by black dots and the ones where the water depth is unsufficient by red crosses.</p>
		<p>As a result, the points 񮽙 񮽙 defining the route are computed as presented below :</p>
		<p><!--encoding problems--><!-- The discretization of Bézier curves is done because on each facet of the route, we consider that both the weather and sea state remain constant. It also allows to define loxodromic courses between 񮽙 񮽙 and 񮽙 񮽙+1. This leads to a route defined by waypoints and courses. Thus, the parameter 񮽙 has a large influence on the accuracy of the estimatation of the fuel consumption. --></p>
		<p>In order to locate the vessel both in time and space, the seabed velocity on the course is set. As a result along each facet of the route, the time dependent weather data are known. Moreover ETS is easily calculable. The target speeds of the vessel 񮽙 񮽙 are included between <measure type="value"><num>two</num></measure> boundaries : 񮽙 񮽙 and 񮽙 񮽙. The number of target speed is 񮽙. Each target speed is valid on several segments of the discretized route.</p>
		<p>The weather and the sea state at the current position of the vessel are extracted from GRIB files defined with a regular 1.25 ∘ × 1 ∘ grid downloaded from NOAA ftp 2 (Table 1). As the meteorological grid weather does not correspond to the route's points 񮽙 񮽙 , a spacial interpolation of the data enables to estimate the encountered conditions for each 񮽙 񮽙. These fields are also interpolated in time. Table 2 allow different finenesses and shapes of the geographical meshing. They are tuned easily by the Decision Maker according to the area of the world and journey planning. For example, the definition of the shortest route avoiding any reef for coastal approches will require a fine and narrow shape grid. On the contrary, a loose rhombus will be more suitable to compute rapidly the optimal route on open-water parts of the journey towards the encountered meteorological conditions (Fig. 4). In this objective, the behavior of the vessel must be evaluated and integrated in an optimization loop.</p>
		<p>The global definition of the optimization loop is depicted in figure 5. Initially, the automatic meshing procedure builds the current trajectory by means of the input free variables of the optimization loop 1 ,. . . The optimization process is the same as searching for the route parameters that will provide a suitable compromise between contradictory targets: the EFC and the ETS. This workflow requires a complete numerical formulation in terms of objective functions and constraints. The calculation chain proposed in this paper is able to manage any input/output laws without compromising the evolution of the optimization process. In fact, any kind of formulation may be used for the computation of the objectives and constraints: from the basic non linear input/output cartography obtained by tawing tank and wind-tunnel tests to the most advanced parametric models. Non-parametric models may also be used for their power of universal interpolator and the possible on-line identification of the model without prior knowledge. Without losing genericity, we defined a fairly advanced parametric model to illustrate the robustness of the optimization process.</p>
		<p>The calculation of the resistances acting on the hull and the thrust developed by the rig is obtained from the literature <!--[7]-->. Since no information were available about the propulsion system (engine, shaft and propeller), we choose a <measure type="value"><num>8</num><measure type="LENGTH" unit="m">񮽙</measure></measure><!--problem encoding--> diameter fixed pitch Wageningen B5-75 screw series propeller, Carlton <!--[5]--> and a <measure type="value"><num>10000</num></measure> Wärtsilä engine <!--[15]-->. A new scheme of consumption calculation is proposed (Fig. 6) to integrate the parametric model in the optimization chain. As presented earlier, both the geography and the velocity are defined for a route, as a result, the inputs of the consumption calculation are the GPS position of the boat and the desired seabed velocities 񮽙 񮽙. Classically, the composition between true wind and seabed velocity of the vessel leads to the apparent wind. In order to get the desired seabed velocity, the current effects must be compensated if the resulting relative speed does not exceed the limitation due to the vessel design i.e. the maximal speed of the vessel 񮽙 .</p>
		<p>As the resistance acting on the hull has been estimated, the necessary propulsive power may be expressed as presented below: ,</p>
		<p>Prediction of wind contribution in propulsion. The contribution of the wind renewable energy is taken into account by computing the lift force developed by the sails. 񮽙 񮽙 is the projection of this force along the longitudinal axis of the boat. The transversal component is neglected so no drift is induced by the rig. The wind thrust is expressed by:</p>
		<p><!--encoding problems--><!-- with í¼ 񮽙 , the density of air ; 񮽙 񮽙 , the relative wind speed ; 񮽙 񮽙 , the lift coefficient depending of Φ 񮽙 the orientation of the relative wind and 񮽙 񮽙 , the sail surface. the efficiency of the hull and 񮽙 the thrust deduction fraction due to suction of the water in front of the propeller, 񮽙 the wake fraction, í¼ 0 the open water efficiency, í¼ 񮽙 the relative rotative efficiency and í¼ 񮽙 the mechanical efficiency of shaft bearing. The consumption of the engine is calculated using the specific consumption law 񮽙 񮽙 given by the engine manufacturer. For a given rate of revolution 񮽙 񮽙 and power 񮽙 񮽙 of the engine, the hourly consumption is given by: ( ). --></p>
		<p>Because of its definition, this parametric model can also estimate the consumption of a motor vessel. In this case the thrust 񮽙 񮽙 is always null and all the propulsive power is provided by the engine.</p>
		<p>In order to investigate the benefits of the hybrid propulsion, an intensive sensitivity study has been conducted. To illustrate the wind contribution, figure 7 represented the fuel consumption for each propulsion for different true-wind direction (ϕ 񮽙 ) and seabed speed (V 񮽙 ). In this calculation, the remaining sea state and the meteorological data are constant. As expected, the rig provides a great assistance to the engine for aft wind. For a true wind speed V 񮽙 of <measure type="value"><num>25</num> <measure type="VELOCITY" unit="knot">kt</measure></measure>, the fuel consumption is reduced by <measure type="value"><num>44</num><measure type="FRACTION" unit="%">%</measure></measure> for the ship with hybrid propulsion for a seabed velocity of <measure type="value"><num>12</num> <measure type="VELOCITY" unit="knot">kt</measure></measure> and ϕ 񮽙 = <measure type="value"><num>100</num><measure type="ANGLE" unit="°">°</measure></measure>. For V 񮽙 = <measure type="value"><num>17</num> <measure type="VELOCITY" unit="knot">kt</measure></measure>, the fuel saving falls to <measure type="value"><num>23</num><measure type="FRACTION" unit="%">%</measure></measure>. To step forward towards the optimum, deterministic methods use function values, gradients and higher derivations to define a new set of design variables. These algorithms are fast but tend to stick to local optima. Stochastic methods always produce a portion of their designs by a random process. This enables them to avoid premature convergence at local optima. In return, an optimization mostly takes more time.</p>
		<p>We chose as optimization algorithm the Multi-Objective Genetic Algorithm (MOGA) <!--[6]--> available in the technical software ModeFrontier. MOGA's search method presents <measure type="value"><num>two</num></measure> very interesting aspects:  It allows a global search in all the directions from design space that produces a rich data base.  It guarantees a multi-objective optimization where the Pareto frontier is defined at the end <!--[16]-->.</p>
		<p>The major disadvantage of the MOGA is mainly related to the number of evaluations necessary to obtain satisfactory solutions. The algorithm will attempt a number of evaluations equal to the size of the initial population for the MOGA multiplied by the number of generations. The final choice of the sailed trajectory from the set of efficient solutions among the conflicting objectives ETS and EFC remains subjective and is left to the captain. An example of the possible options is presented in part 4.2.</p>
		<p>A numerical optimization of westbound north Atlantic route between Brest [-5.33 48]° and New York [-68.08 41.78]° is given hereafter to illustrate the optimal weather routing benefits for sail-assisted sea transport. With reference to the ship route under investigation, the number of levels is 񮽙 񮽙 = <measure type="value"><num>12</num></measure>, the distance between nodes of a level is 񮽙 񮽙 = <measure type="value"><num>100</num> <measure type="LENGTH" unit="km">km</measure></measure> and the number of course changes per hour is 񮽙 = <measure type="value"><num>1/4</num> <measure type="FREQUENCY" unit="h^-1">h −1</measure></measure>. The number of target speeds is 񮽙 = <measure type="value"><num>8</num></measure>. The meteorological conditions used were provided by the NOAA in the periods from the <measure type="interval"><date from-iso="2009-03-23T18:00:00">03/23/09, 18:00</date> to <date to-iso="2009-03-28T11:00:00">03/28/09, 11:00 GMT</date></measure>. With this discretization of the research space, the number of free variables is <measure type="value"><num>18</num></measure>. <measure type="value"><num>10</num></measure> variables define the geography of the route and <measure type="value"><num>8</num></measure> are used to set the velocity along the trajectory. For the set-up <measure type="value"><num>2</num></measure> objectives are considered: ETS and EFC. A constraint on ETS is also fixed at <measure type="value"><num>220</num> <measure type="TIME" unit="h">h</measure></measure> in order to avoid low seabed speeds.</p>
		<p><measure type="value"><num>Two</num></measure> optimizations have been conducted on this routing example. First a parametric motor vessel model has been used. Then the same vessel model with a sail-assisted propulsion has been considered. The initial population of routes is generated by a quasi-random sequence (SOBOL) of <measure type="value"><num>200</num></measure> designs. The numerical evaluation of the performance calls upon MATLAB code is not so expensive in terms of computing time (about <measure type="value"><num>3</num><measure type="TIME" unit="s">s</measure></measure>). In an attempt to solve the optimization problem in an acceptable timeframe, the number of generations evaluated is almost <measure type="value"><num>50</num></measure>, i.e. <measure type="value"><num>10000</num></measure> designs in all. The required computation time for the global optimization process is about <measure type="value"><num>8</num> <measure type="TIME" unit="h">hours</measure></measure> (<measure type="value"><num>2.0</num> <measure type="FREQUENCY" unit="GHz">GHz</measure></measure> / <measure type="value"><num>2.0</num> <measure type="INFORMATION" unit="Gb">Gb</measure></measure> RAM). Integrating a Response Surface Methodology to reduce the computation time could be an interesting extension of our work. Of the <measure type="value"><num>10000</num></measure> routes analyzed for each propulsion configuration, <measure type="value"><num>149</num></measure> were Pareto-optimal with respect to the others for the hybrid vessel and <measure type="value"><num>128</num></measure> for the motor vessel. Figure 9 shows the projection of these <measure type="value"><num>two</num></measure> resulting Pareto-fronts onto EFC/ETS domain. The wide shape of the <measure type="value"><num>two</num></measure> Pareto-fronts confirms the conflicting nature of the <measure type="value"><num>two</num></measure> objectives. This figure stresses the improvement that can be obtained for the <measure type="value"><num>two</num></measure> objectives by an hybrid propulsion.</p>
		<p>The shortest route in distance sailed by a motor vessel at a constant speed in <measure type="value"><num>200</num> <measure type="TIME" unit="h">h</measure></measure> is taken as a reference. This trajectory is denoted by route 1 on figure 9. The route 2 is the same trajectory roamed by an hybrid vessel. For the meteorological conditions encountered, a reduction of <measure type="value"><num>26</num><measure type="FRACTION" unit="%">%</measure></measure> of the consumption may be achieved with no optimization of the route geography (Table 3). The MOGA can be regarded as a mean of generating a set of optimal solutions for the Decision Marker to base his preference choice on. Of the optimal solutions of the motor vessel Pareto-front, route 3 is identified as being the best route to minimize the EFC while respecting the constraint on ETS fixed at <measure type="value"><num>200</num> <measure type="TIME" unit="h">h</measure></measure>. The improvement on the EFC objective is about <measure type="value"><num>9</num> <measure type="FRACTION" unit="%">%</measure></measure> compared to route 1 (Table 3) Figure 10 illustrates the geographical distribution of the resulting optimal routes. The routes have been drawn on the true wind field <measure type="value"><num>165</num><measure type="TIME" unit="h">h</measure></measure> after departure. For the whole journey, the maximal speed of wind was <measure type="value"><num>48</num> <measure type="VELOCITY" unit="knot">kt</measure></measure> and the maximal wave height was <measure type="value"><num>5.3</num> <measure type="LENGTH" unit="m">m</measure></measure>. It can be observed that the optimal motor vessel route tries to avoid rough sea conditions while keeping the sailed distance the lower possible. The sail-assisted motor vessel has crossed a longer distance since the optimization loop tries to get the most efficient direction of relative wind besides avoiding areas of high waves. Figure 10. True wind field <measure type="value"><num>165</num><measure type="TIME" unit="h">h</measure></measure> after departure</p>
		<p>This paper presents a complete route optimization procedure for sail-assited motor vessel routing using deterministic medium range weather forecast and a parametric model of ship performances. A method for spatial and temporal generation of route variants based on a generic and automatic meshing method has been presented. Pareto-optimization may be considered as a tool providing a set of efficient solutions among different and conflicting objectives, under different constraints. The final choice remains always subjective and is let in the user's hands. As we have taken a model from the literature without real measurements for calibration, the fuel saving may seem too important and must be taken with care. This study is more qualitative than quantitative. Our goal here is to demonstrate the efficiency of the proposed optimization scheme for various propulsions.</p>
		<p>Future work concern the improvement of the consumption prediction model using on board measurements and fuzzy logic identification technics for the establishment of reliable models for different vessel types. This kind of modeling will further the genericity of the approach and keep the identification costs low by choosing the minimal set of sensors. The recasting of the code in C++ will also be done allowing the reduction of computation time in order to use this method for on board routing applications. In a second time, the driffting induced by currents and sails will be included. The stochastic nature of weather and sea-state will also be integrated using ensemble forecast to compute the optimal route that is the most robust to possible weather changes. In the medium term, we also want to include the dynamic behavior of the vessel in the optimization loop in order to include safety and comfort of the crew in the optimization loop.</p>
		<p>6.</p>
		<p>The research in this paper is supported by the Région Bretagne (FRANCE) and some local communities. This work takes place in the Grand Largue project.</p>
	</text>
</tei>